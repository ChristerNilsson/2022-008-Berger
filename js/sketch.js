// Generated by CoffeeScript 2.5.1
var createState, menu1;

import {
  Dialogue,
  showDialogue,
  dialogues
} from './dialogue.js';

import {
  globals
} from './globals.js';

import {
  setState,
  setN,
  bergerSVG,
  saveData
} from './states.js';

import {
  SG
} from './SG.js';

Array.prototype.clear = function() {
  return this.length = 0;
};

createState = function(key, klass) {
  return globals.states[key] = new klass(key);
};

window.windowResized = function() {
  return resizeCanvas(innerWidth, innerHeight);
};

window.setup = function() {
  var canvas;
  canvas = createCanvas(innerWidth, innerHeight); //,SVG
  background('black');
  textAlign(CENTER, CENTER);
  rectMode(CENTER);
  angleMode(DEGREES);
  createState('SG', SG);
  setState('SG');
  return setN(0);
};

window.mouseClicked = function() {
  var dialogue;
  if (dialogues.length === 0) {
    return menu1();
  } else {
    dialogue = _.last(dialogues);
    return dialogue.execute(mouseX, mouseY);
  }
};

window.draw = function() {
  push();
  scale(width / 100, height / 100); // portrait
  strokeWeight(100 / height);
  background('gray');
  globals.currState.drawControls();
  globals.currState.draw();
  pop();
  return showDialogue();
};

menu1 = function() { // Main Menu
  var dialogue;
  dialogue = new Dialogue();
  dialogue.add('-2', function() {
    return setN(-2);
  });
  dialogue.add('+2', function() {
    return setN(2);
  });
  dialogue.add('Download', function() {
    var data, fileName;
    data = bergerSVG(width, height);
    fileName = `${globals.N}.svg`;
    saveData()(data, fileName);
    return dialogues.clear();
  });
  return dialogue.clock(' ', true, -60);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsV0FBQSxFQUFBOztBQUFBLE9BQUE7RUFBUSxRQUFSO0VBQWtCLFlBQWxCO0VBQWdDLFNBQWhDO0NBQUEsTUFBQTs7QUFDQSxPQUFBO0VBQVEsT0FBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLFFBQVI7RUFBa0IsSUFBbEI7RUFBdUIsU0FBdkI7RUFBaUMsUUFBakM7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxFQUFSO0NBQUEsTUFBQTs7QUFFQSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQWhCLEdBQXdCLFFBQUEsQ0FBQSxDQUFBO1NBQUcsSUFBQyxDQUFBLE1BQUQsR0FBVTtBQUFiOztBQUV4QixXQUFBLEdBQWMsUUFBQSxDQUFDLEdBQUQsRUFBSyxLQUFMLENBQUE7U0FBZSxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUQsQ0FBZCxHQUFzQixJQUFJLEtBQUosQ0FBVSxHQUFWO0FBQXJDOztBQUVkLE1BQU0sQ0FBQyxhQUFQLEdBQXVCLFFBQUEsQ0FBQSxDQUFBO1NBQUcsWUFBQSxDQUFhLFVBQWIsRUFBeUIsV0FBekI7QUFBSDs7QUFFdkIsTUFBTSxDQUFDLEtBQVAsR0FBZSxRQUFBLENBQUEsQ0FBQTtBQUNmLE1BQUE7RUFBQyxNQUFBLEdBQVMsWUFBQSxDQUFhLFVBQWIsRUFBd0IsV0FBeEIsRUFBVjtFQUVDLFVBQUEsQ0FBVyxPQUFYO0VBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7RUFDQSxRQUFBLENBQVMsTUFBVDtFQUNBLFNBQUEsQ0FBVSxPQUFWO0VBRUEsV0FBQSxDQUFZLElBQVosRUFBa0IsRUFBbEI7RUFDQSxRQUFBLENBQVMsSUFBVDtTQUNBLElBQUEsQ0FBSyxDQUFMO0FBVmM7O0FBWWYsTUFBTSxDQUFDLFlBQVAsR0FBc0IsUUFBQSxDQUFBLENBQUE7QUFDdEIsTUFBQTtFQUFDLElBQUcsU0FBUyxDQUFDLE1BQVYsS0FBb0IsQ0FBdkI7V0FDQyxLQUFBLENBQUEsRUFERDtHQUFBLE1BQUE7SUFHQyxRQUFBLEdBQVcsQ0FBQyxDQUFDLElBQUYsQ0FBTyxTQUFQO1dBQ1gsUUFBUSxDQUFDLE9BQVQsQ0FBaUIsTUFBakIsRUFBd0IsTUFBeEIsRUFKRDs7QUFEcUI7O0FBT3RCLE1BQU0sQ0FBQyxJQUFQLEdBQWMsUUFBQSxDQUFBLENBQUE7RUFDYixJQUFBLENBQUE7RUFDQSxLQUFBLENBQU0sS0FBQSxHQUFNLEdBQVosRUFBZ0IsTUFBQSxHQUFPLEdBQXZCLEVBREQ7RUFFQyxZQUFBLENBQWEsR0FBQSxHQUFJLE1BQWpCO0VBQ0EsVUFBQSxDQUFXLE1BQVg7RUFDQSxPQUFPLENBQUMsU0FBUyxDQUFDLFlBQWxCLENBQUE7RUFDQSxPQUFPLENBQUMsU0FBUyxDQUFDLElBQWxCLENBQUE7RUFDQSxHQUFBLENBQUE7U0FDQSxZQUFBLENBQUE7QUFSYTs7QUFVZCxLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUEsRUFBQTtBQUNSLE1BQUE7RUFBQyxRQUFBLEdBQVcsSUFBSSxRQUFKLENBQUE7RUFDWCxRQUFRLENBQUMsR0FBVCxDQUFhLElBQWIsRUFBbUIsUUFBQSxDQUFBLENBQUE7V0FBRyxJQUFBLENBQUssQ0FBQyxDQUFOO0VBQUgsQ0FBbkI7RUFDQSxRQUFRLENBQUMsR0FBVCxDQUFhLElBQWIsRUFBbUIsUUFBQSxDQUFBLENBQUE7V0FBRyxJQUFBLENBQUssQ0FBTDtFQUFILENBQW5CO0VBQ0EsUUFBUSxDQUFDLEdBQVQsQ0FBYSxVQUFiLEVBQXlCLFFBQUEsQ0FBQSxDQUFBO0FBQzFCLFFBQUEsSUFBQSxFQUFBO0lBQUUsSUFBQSxHQUFPLFNBQUEsQ0FBVSxLQUFWLEVBQWdCLE1BQWhCO0lBQ1AsUUFBQSxHQUFXLENBQUEsQ0FBQSxDQUFHLE9BQU8sQ0FBQyxDQUFYLENBQUEsSUFBQTtJQUNYLFFBQUEsQ0FBQSxDQUFBLENBQVcsSUFBWCxFQUFpQixRQUFqQjtXQUNBLFNBQVMsQ0FBQyxLQUFWLENBQUE7RUFKd0IsQ0FBekI7U0FLQSxRQUFRLENBQUMsS0FBVCxDQUFlLEdBQWYsRUFBbUIsSUFBbkIsRUFBd0IsQ0FBQyxFQUF6QjtBQVRPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEaWFsb2d1ZSwgc2hvd0RpYWxvZ3VlLCBkaWFsb2d1ZXN9IGZyb20gJy4vZGlhbG9ndWUuanMnXHJcbmltcG9ydCB7Z2xvYmFsc30gZnJvbSAnLi9nbG9iYWxzLmpzJ1xyXG5pbXBvcnQge3NldFN0YXRlLCBzZXROLGJlcmdlclNWRyxzYXZlRGF0YX0gZnJvbSAnLi9zdGF0ZXMuanMnXHJcbmltcG9ydCB7U0d9IGZyb20gJy4vU0cuanMnXHJcblxyXG5BcnJheS5wcm90b3R5cGUuY2xlYXIgPSAtPiBAbGVuZ3RoID0gMFxyXG5cclxuY3JlYXRlU3RhdGUgPSAoa2V5LGtsYXNzKSAtPiBnbG9iYWxzLnN0YXRlc1trZXldID0gbmV3IGtsYXNzIGtleVxyXG5cclxud2luZG93LndpbmRvd1Jlc2l6ZWQgPSAtPiByZXNpemVDYW52YXMgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHRcclxuXHJcbndpbmRvdy5zZXR1cCA9IC0+XHJcblx0Y2FudmFzID0gY3JlYXRlQ2FudmFzIGlubmVyV2lkdGgsaW5uZXJIZWlnaHQgIyxTVkdcclxuXHJcblx0YmFja2dyb3VuZCAnYmxhY2snXHJcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHRyZWN0TW9kZSBDRU5URVJcclxuXHRhbmdsZU1vZGUgREVHUkVFU1xyXG5cdFxyXG5cdGNyZWF0ZVN0YXRlICdTRycsIFNHXHJcblx0c2V0U3RhdGUgJ1NHJ1xyXG5cdHNldE4gMFxyXG5cclxud2luZG93Lm1vdXNlQ2xpY2tlZCA9IC0+XHJcblx0aWYgZGlhbG9ndWVzLmxlbmd0aCA9PSAwXHJcblx0XHRtZW51MSgpXHJcblx0ZWxzZVxyXG5cdFx0ZGlhbG9ndWUgPSBfLmxhc3QgZGlhbG9ndWVzXHJcblx0XHRkaWFsb2d1ZS5leGVjdXRlIG1vdXNlWCxtb3VzZVlcclxuXHJcbndpbmRvdy5kcmF3ID0gLT5cclxuXHRwdXNoKClcclxuXHRzY2FsZSB3aWR0aC8xMDAsaGVpZ2h0LzEwMCAjIHBvcnRyYWl0XHJcblx0c3Ryb2tlV2VpZ2h0IDEwMC9oZWlnaHRcclxuXHRiYWNrZ3JvdW5kICdncmF5J1xyXG5cdGdsb2JhbHMuY3VyclN0YXRlLmRyYXdDb250cm9scygpXHJcblx0Z2xvYmFscy5jdXJyU3RhdGUuZHJhdygpXHJcblx0cG9wKClcclxuXHRzaG93RGlhbG9ndWUoKVxyXG5cclxubWVudTEgPSAtPiAjIE1haW4gTWVudVxyXG5cdGRpYWxvZ3VlID0gbmV3IERpYWxvZ3VlKClcclxuXHRkaWFsb2d1ZS5hZGQgJy0yJywgLT4gc2V0TiAtMlxyXG5cdGRpYWxvZ3VlLmFkZCAnKzInLCAtPiBzZXROIDJcclxuXHRkaWFsb2d1ZS5hZGQgJ0Rvd25sb2FkJywgLT5cclxuXHRcdGRhdGEgPSBiZXJnZXJTVkcgd2lkdGgsaGVpZ2h0XHJcblx0XHRmaWxlTmFtZSA9IFwiI3tnbG9iYWxzLk59LnN2Z1wiXHJcblx0XHRzYXZlRGF0YSgpIGRhdGEsIGZpbGVOYW1lXHJcblx0XHRkaWFsb2d1ZXMuY2xlYXIoKVxyXG5cdGRpYWxvZ3VlLmNsb2NrICcgJyx0cnVlLC02MFxyXG4iXX0=
//# sourceURL=c:\github\2022-008-Berger\coffee\sketch.coffee