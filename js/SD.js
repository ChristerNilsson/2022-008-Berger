// Generated by CoffeeScript 2.5.1
import {
  globals,
  rotera,
  invert
} from './globals.js';

import {
  ALPHABET,
  setN,
  State
} from './states.js';

export var SD = class SD extends State { // Rotation
  setN() {
    var R, angle, i, k, len, ref, x, y;
    R = 35;
    this.points = [];
    this.N = globals.N;
    angle = 360 / (this.N - 1);
    ref = range(this.N - 1);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      x = 50 + R * cos(angle * i);
      y = 50 + R * sin(angle * i);
      this.points.push([x, y]);
    }
    return this.points.push([50, 50]);
  }

  makeLine(i, j) {
    var x0, x1, y0, y1, z;
    z = rotera(range(this.N), -globals.rond);
    [x0, y0] = this.points[z[i]];
    [x1, y1] = this.points[z[j]];
    return line(x0, y0, x1, y1);
  }

  draw() {
    var i, k, l, len, len1, m, players, r, ref, ref1, results, rond, x, y;
    //super()
    r = 2 * 100 / this.N;
    if (r > 12) {
      r = 12;
    }
    textSize(0.75 * r);
    rond = globals.rond;
    players = invert(globals.ronder[rond]);
    m = this.N / 2;
    ref = range(m + 1);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      this.makeLine(m - i, m + i - 1);
    }
    ref1 = range(this.N);
    results = [];
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      [x, y] = this.points[i];
      fill(i === 0 ? 'red' : 'gray');
      circle(x, y, r);
      fill(['white', 'black'][players[i] % 2]);
      results.push(text(ALPHABET[i], x, y + 0.25));
    }
    return results;
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU0QuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcU0QuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFBO0VBQVEsT0FBUjtFQUFnQixNQUFoQjtFQUF1QixNQUF2QjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLFFBQVI7RUFBa0IsSUFBbEI7RUFBd0IsS0FBeEI7Q0FBQSxNQUFBOztBQUVBLE9BQUEsSUFBYSxLQUFOLE1BQUEsR0FBQSxRQUFpQixNQUFqQixDQUFBO0VBRU4sSUFBTyxDQUFBLENBQUE7QUFDUixRQUFBLENBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLENBQUEsRUFBQTtJQUFFLENBQUEsR0FBSTtJQUNKLElBQUMsQ0FBQSxNQUFELEdBQVU7SUFDVixJQUFDLENBQUEsQ0FBRCxHQUFLLE9BQU8sQ0FBQztJQUNiLEtBQUEsR0FBUSxHQUFBLEdBQUksQ0FBQyxJQUFDLENBQUEsQ0FBRCxHQUFHLENBQUo7QUFDWjtJQUFBLEtBQUEscUNBQUE7O01BQ0MsQ0FBQSxHQUFJLEVBQUEsR0FBRyxDQUFBLEdBQUUsR0FBQSxDQUFJLEtBQUEsR0FBTSxDQUFWO01BQ1QsQ0FBQSxHQUFJLEVBQUEsR0FBRyxDQUFBLEdBQUUsR0FBQSxDQUFJLEtBQUEsR0FBTSxDQUFWO01BQ1QsSUFBQyxDQUFBLE1BQU0sQ0FBQyxJQUFSLENBQWEsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFiO0lBSEQ7V0FJQSxJQUFDLENBQUEsTUFBTSxDQUFDLElBQVIsQ0FBYSxDQUFDLEVBQUQsRUFBSSxFQUFKLENBQWI7RUFUTTs7RUFXUCxRQUFXLENBQUMsQ0FBRCxFQUFHLENBQUgsQ0FBQTtBQUNaLFFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBO0lBQUUsQ0FBQSxHQUFJLE1BQUEsQ0FBTyxLQUFBLENBQU0sSUFBQyxDQUFBLENBQVAsQ0FBUCxFQUFpQixDQUFDLE9BQU8sQ0FBQyxJQUExQjtJQUNKLENBQUMsRUFBRCxFQUFJLEVBQUosQ0FBQSxHQUFVLElBQUMsQ0FBQSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUQsQ0FBRjtJQUNqQixDQUFDLEVBQUQsRUFBSSxFQUFKLENBQUEsR0FBVSxJQUFDLENBQUEsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFELENBQUY7V0FDakIsSUFBQSxDQUFLLEVBQUwsRUFBUSxFQUFSLEVBQVcsRUFBWCxFQUFjLEVBQWQ7RUFKVTs7RUFNWCxJQUFPLENBQUEsQ0FBQTtBQUNSLFFBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUE7O0lBQ0UsQ0FBQSxHQUFJLENBQUEsR0FBRSxHQUFGLEdBQU0sSUFBQyxDQUFBO0lBQ1gsSUFBRyxDQUFBLEdBQUUsRUFBTDtNQUFhLENBQUEsR0FBRSxHQUFmOztJQUNBLFFBQUEsQ0FBUyxJQUFBLEdBQUssQ0FBZDtJQUNBLElBQUEsR0FBTyxPQUFPLENBQUM7SUFFZixPQUFBLEdBQVUsTUFBQSxDQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBRCxDQUFyQjtJQUVWLENBQUEsR0FBSSxJQUFDLENBQUEsQ0FBRCxHQUFHO0FBQ1A7SUFBQSxLQUFBLHFDQUFBOztNQUFBLElBQUMsQ0FBQSxRQUFELENBQVUsQ0FBQSxHQUFFLENBQVosRUFBYyxDQUFBLEdBQUUsQ0FBRixHQUFJLENBQWxCO0lBQUE7QUFFQTtBQUFBO0lBQUEsS0FBQSx3Q0FBQTs7TUFDQyxDQUFDLENBQUQsRUFBRyxDQUFILENBQUEsR0FBUSxJQUFDLENBQUEsTUFBTSxDQUFDLENBQUQ7TUFDZixJQUFBLENBQVEsQ0FBQSxLQUFLLENBQVIsR0FBZSxLQUFmLEdBQTBCLE1BQS9CO01BRUEsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWDtNQUNBLElBQUEsQ0FBSyxDQUFDLE9BQUQsRUFBUyxPQUFULENBQWlCLENBQUMsT0FBTyxDQUFDLENBQUQsQ0FBUCxHQUFhLENBQWQsQ0FBdEI7bUJBQ0EsSUFBQSxDQUFLLFFBQVEsQ0FBQyxDQUFELENBQWIsRUFBaUIsQ0FBakIsRUFBbUIsQ0FBQSxHQUFFLElBQXJCO0lBTkQsQ0FBQTs7RUFaTTs7QUFuQkQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dsb2JhbHMscm90ZXJhLGludmVydH0gZnJvbSAnLi9nbG9iYWxzLmpzJ1xyXG5pbXBvcnQge0FMUEhBQkVULCBzZXROLCBTdGF0ZX0gZnJvbSAnLi9zdGF0ZXMuanMnXHJcblxyXG5leHBvcnQgY2xhc3MgU0QgZXh0ZW5kcyBTdGF0ZSAjIFJvdGF0aW9uXHJcblx0XHJcblx0c2V0TiA6IC0+XHJcblx0XHRSID0gMzVcclxuXHRcdEBwb2ludHMgPSBbXVxyXG5cdFx0QE4gPSBnbG9iYWxzLk5cclxuXHRcdGFuZ2xlID0gMzYwLyhATi0xKVxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgQE4tMVxyXG5cdFx0XHR4ID0gNTArUipjb3MgYW5nbGUqaVxyXG5cdFx0XHR5ID0gNTArUipzaW4gYW5nbGUqaVxyXG5cdFx0XHRAcG9pbnRzLnB1c2ggW3gseV1cclxuXHRcdEBwb2ludHMucHVzaCBbNTAsNTBdXHJcblxyXG5cdG1ha2VMaW5lIDogKGksaikgLT5cclxuXHRcdHogPSByb3RlcmEgcmFuZ2UoQE4pLC1nbG9iYWxzLnJvbmRcclxuXHRcdFt4MCx5MF0gPSBAcG9pbnRzW3pbaV1dXHJcblx0XHRbeDEseTFdID0gQHBvaW50c1t6W2pdXVxyXG5cdFx0bGluZSB4MCx5MCx4MSx5MVxyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdCNzdXBlcigpXHJcblx0XHRyID0gMioxMDAvQE5cclxuXHRcdGlmIHI+MTIgdGhlbiByPTEyXHJcblx0XHR0ZXh0U2l6ZSAwLjc1KnJcclxuXHRcdHJvbmQgPSBnbG9iYWxzLnJvbmRcclxuXHJcblx0XHRwbGF5ZXJzID0gaW52ZXJ0IGdsb2JhbHMucm9uZGVyW3JvbmRdXHJcblxyXG5cdFx0bSA9IEBOLzJcclxuXHRcdEBtYWtlTGluZSBtLWksbStpLTEgZm9yIGkgaW4gcmFuZ2UgbSsxXHJcblx0XHRcdFxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgQE5cclxuXHRcdFx0W3gseV0gPSBAcG9pbnRzW2ldXHJcblx0XHRcdGZpbGwgaWYgaSA9PSAwIHRoZW4gJ3JlZCcgZWxzZSAnZ3JheSdcclxuXHJcblx0XHRcdGNpcmNsZSB4LHksclxyXG5cdFx0XHRmaWxsIFsnd2hpdGUnLCdibGFjayddW3BsYXllcnNbaV0gJSAyXVxyXG5cdFx0XHR0ZXh0IEFMUEhBQkVUW2ldLHgseSswLjI1XHJcbiJdfQ==
//# sourceURL=c:\github\2022-008-Berger\coffee\SD.coffee